# Andy.Tui Examples

This directory contains interactive demos for the Andy.Tui library. Launch the menu-driven app with:

```bash
dotnet run --project examples/Andy.Tui.Examples
```

Use number keys then Enter to open a demo. Press ESC to exit a demo (and the app).

## Demos

- 1. Hello: minimal render of static text
- 2. Buttons (interactive)
- 3. Toggle (interactive)
- 4. Checkbox (interactive)
- 5. Radio Group (interactive)
- 6. Text Input (interactive)
- 7. Scroll View (interactive)
- 8. Progress + Slider (animated)
- 9. Real-time Log View (auto-appending)
- 10. Chat (toy chat UI)
- 11. List Box (interactive)
- 12. Menu Bar (accelerators, submenus, click-outside)
- 13. Tree View (interactive expand/collapse)
- 14. Table (real-time Bloomberg-like table)
- 15. Virtualized Grid (100k rows, scrolling)
- 16. International Text (CJK, RTL, Indic, Emoji)
- 17. Editor View (caret, scrolling)
- 18. Context Menu (keyboard and mouse triggers)
 
- 19. Select (dropdown)
- 20. Command Palette (fuzzy match, pinned/recent)
- 21. Large Text Clock (Block / Seven-Segment / Outline)
- 22. ASCII Art (true-color image → ASCII)
- 23. Pager / Toast / Spinner (basics)

### Notes and credits

- The QR code in the barcode demo (menu 64) is generated by a small, embedded, dependency-free encoder (`src/Andy.Tui.Widgets/QrCodeSimple.cs`). It implements a minimal subset of the QR spec (Version 2-L, byte mode, fixed mask) sufficient for short links like `https://wikipedia.org`. This code is provided for demo purposes only and is not a full QR implementation.
- 24. Sparklines (ASCII mini trends)
- 25. Bar Chart (ASCII)
- 26. Link (underlined; OSC8 hyperlinks TBD)
- 27. Layers (stack/overlay)

## Widget docs (new in this batch)

- W28 Sparklines: renders a compact trend using Unicode block ramp (▁▂▃▄▅▆▇█). Input is a series of doubles; values are normalized per render width.
- W29 Bar Chart: horizontal bars with left labels; bars scale to the max value in the series.
- W31 Link: underlined, colored text; future work will emit OSC 8 hyperlinks where supported.
- W32 Stack/Layers: simple layering helper; later will integrate with a focus/hit-test manager for overlay routing.

## Resize and HUD

- All demos handle terminal resize. 
- Press F2 to toggle the performance HUD (FPS, dirty %, bytes per frame).

## ASCII Art demo (22)

The ASCII demo renders a color image as ASCII characters using true-color (24-bit) foreground colors. It looks for raw RGB files in `examples/Andy.Tui.Examples/assets/` with names like `napoleon_120x90.rgb`.

- The demo picks the asset whose WxH is closest to the current viewport content area.
- If multiple sizes are present (e.g., 80x60, 120x90, 160x120), it will choose the best fit for your terminal size.
- Attribution is shown at the bottom: "Source: Horace Vernet, Public domain, via Wikimedia Commons".

### How the .rgb was produced

We generate raw RGB24 frames (interleaved RGB, 3 bytes per pixel) with ffmpeg from the original JPEG. Examples:

```bash
# 80x60
a="examples/Andy.Tui.Examples/assets/napoleon_80x60.rgb"; \
ffmpeg -y -i "examples/Andy.Tui.Examples/assets/The_Emperor_Napoleon_I.jpg" -vf scale=80:60  -f rawvideo -pix_fmt rgb24 "$a"

# 120x90
a="examples/Andy.Tui.Examples/assets/napoleon_120x90.rgb"; \
ffmpeg -y -i "examples/Andy.Tui.Examples/assets/The_Emperor_Napoleon_I.jpg" -vf scale=120:90 -f rawvideo -pix_fmt rgb24 "$a"

# 160x120
a="examples/Andy.Tui.Examples/assets/napoleon_160x120.rgb"; \
ffmpeg -y -i "examples/Andy.Tui.Examples/assets/The_Emperor_Napoleon_I.jpg" -vf scale=160:120 -f rawvideo -pix_fmt rgb24 "$a"
```

Notes:
- File size must equal `W * H * 3` bytes (RGB24). Example: `120 * 90 * 3 = 32400` bytes.
- The demo searches `assets/` first; no external decoder or third-party library is used.
- Use different sizes so the demo can choose the best fit for your terminal.

## Assets

All example assets (including the `.rgb` files) live in `examples/Andy.Tui.Examples/assets/` and are copied to the build output by the project file. 

## Keyboard shortcuts (highlights)

- ESC: exit the current demo
- F2: toggle HUD
- Menus: Alt+[letter] (Win/Linux) or Ctrl+[letter] (macOS) accelerators; arrow keys to navigate; Enter/Space to confirm; click outside to dismiss
- Select: Enter/Space to open/close, Up/Down to highlight, Enter to confirm, Esc to cancel
- Command Palette: Ctrl+P to open, type to filter, Up/Down to navigate, Enter to select
